<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vote → Spin → Win!</title>

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

<style>
body {
  font-family: 'Roboto', sans-serif;
  margin: 0;
  min-height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background: url('img.png') no-repeat center center fixed;
  background-size: cover;
}

body::before {
  content:'';
  position:fixed;
  top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.55);
  z-index:0;
}

.container {
  position:relative;
  z-index:1;
  background:rgba(255,255,255,0.96);
  max-width:520px;
  width:90%;
  border-radius:20px;
  padding:2rem;
  box-shadow:0 10px 25px rgba(0,0,0,0.3);
  text-align:center;
}

h1 { color:#1d2d50; }

.button {
  display:block;
  width:100%;
  margin:12px 0;
  padding:13px;
  border-radius:10px;
  font-weight:500;
  font-size:1rem;
  border:none;
  cursor:pointer;
}

.vote-btn {
  background:#0070f3;
  color:white;
}

.spin-btn {
  background:#0fa958;
  color:white;
}

.spin-btn:disabled {
  background:#9fd8b8;
  cursor:not-allowed;
}

.note { font-size:0.85rem; color:#555; margin-top:10px; }

.status {
  margin-top:10px;
  font-weight:500;
  color:#c0392b;
}
</style>
</head>

<body>

<div class="container">

<h1>Vote → Spin → Win!</h1>

<p>Step 1: Vote using the official portal</p>

<button class="button vote-btn" onclick="startVoting()">
Go to Voting Page
</button>

<button id="spinBtn" class="button spin-btn" disabled onclick="goSpin()">
Go to Spin Wheel
</button>

<p id="status" class="status">
Please vote first to unlock the spin wheel
</p>

<p class="note">
*Spin wheel will be enabled only after successful voting*
</p>

</div>

<script>

const spinWheelURL = "https://pickerwheel.com/"; // <-- PUT YOUR URL

// When user clicks voting
function startVoting() {

  // mark that user started voting
  localStorage.setItem("voted", "started");

  // open voting in new tab
  window.open("https://www.technnovation.lk/", "_blank");

  // refresh current page
  setTimeout(() => location.reload(), 1000);
}

// Check status on page load
function checkStatus() {

  const voted = localStorage.getItem("voted");

  const spinBtn = document.getElementById("spinBtn");
  const status = document.getElementById("status");

  if (voted === "completed") {
    spinBtn.disabled = false;
    status.innerText = "✅ Voting verified! You can spin now.";
    status.style.color = "green";
  }
}

// User confirms they completed voting
window.addEventListener("focus", () => {

  const voted = localStorage.getItem("voted");

  if (voted === "started") {

    const confirmVote = confirm("Did you complete the voting?");

    if (confirmVote) {
      localStorage.setItem("voted", "completed");
      checkStatus();
    }
  }

});

function goSpin() {
  window.location.href = spinWheelURL;
}

checkStatus();

</script>

</body>
</html>
